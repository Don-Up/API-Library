## [165. remove characters | BFE.dev - prepare for Front-End job interviews.](https://bigfrontend.dev/problem/remove-characters)

<audio src="../../../../../Downloads/2024年12月25日08点33分.mp3"></audio>

这道题要求实现一个函数 `removeChars`，用于从只包含字符 `a`、`b` 和 `c` 的字符串中，移除所有的字符 `b` 和子字符串 `ac`。输入是一个字符串 `input`，输出是移除所有符合条件的字符或子字符串后的字符串。

***

### **讲解内容**

1. **函数 `removeChars` 的目的**  
   - 该函数的目标是从输入字符串 `input` 中移除所有字符 `'b'` 和子字符串 `'ac'`。  
   - 输入字符串只会包含 `'a'`、`'b'` 和 `'c'` 三种字符。  
   - 输出是一个移除了符合条件内容后的新字符串。

2. **使用栈的思想**  
   - 函数通过一个栈（`stack` 数组）来逐步构造最终的字符串结果。  
   - 栈的特点是 **后进先出 (LIFO)**，可以有效处理类似 `'ac'` 这样需要判断相邻关系的子字符串。

3. **核心逻辑**  
   - 遍历输入字符串的每个字符，逐一判断如何处理：
     - 如果当前字符是 `'c'` 且栈顶元素是 `'a'`，说明构成了 `'ac'` 子字符串。这时从栈中弹出 `'a'`，跳过当前字符 `'c'`，实现删除 `'ac'` 的效果。
     - 如果当前字符是 `'b'`，直接跳过，不将其放入栈中。
     - 如果当前字符既不是 `'b'`，也不满足删除 `'ac'` 的条件，直接将其加入栈中。

4. **返回结果**  
   - 遍历结束后，栈中存储的是移除了所有 `'b'` 和 `'ac'` 后的字符。  
   - 最终通过 `stack.join('')` 将栈内字符连接成字符串并返回。

---

### **带有注释的完整代码**

```javascript
function removeChars(input) {
    const stack = []; // 用于存储最终结果的栈

    // 遍历输入字符串的每个字符
    for (let i = 0; i < input.length; i++) {
        const character = input[i]; // 当前字符

        // 如果当前字符是 'c' 且栈顶是 'a'，说明构成了 'ac'
        if (stack.length && character === 'c' && stack[stack.length - 1] === 'a') {
            stack.pop(); // 删除栈顶的 'a'，并跳过当前的 'c'
        } else if (character !== 'b') {
            // 如果当前字符不是 'b'，将其放入栈中
            stack.push(character);
        }
        // 如果当前字符是 'b'，什么都不做（即跳过）
    }

    // 将栈中的字符连接成字符串返回
    return stack.join('');
}
```

---

### **逐步执行示例**

#### 示例 1:  
**输入**: `"abac"`  
**过程**:  
1. 初始化栈：`stack = []`  
2. 遍历字符：  
   - `'a'`: 不是 `'b'` 或 `'ac'` 的一部分，加入栈，`stack = ['a']`  
   - `'b'`: 跳过，`stack = ['a']`  
   - `'a'`: 不是 `'b'` 或 `'ac'` 的一部分，加入栈，`stack = ['a', 'a']`  
   - `'c'`: 栈顶是 `'a'`，构成 `'ac'`，弹出栈顶，`stack = ['a']`  
3. 最终栈：`stack = ['a']`  
**输出**: `"a"`

#### 示例 2:  
**输入**: `"abcacbab"`  
**过程**:  
1. 初始化栈：`stack = []`  
2. 遍历字符：  
   - `'a'`: 加入栈，`stack = ['a']`  
   - `'b'`: 跳过，`stack = ['a']`  
   - `'c'`: 栈顶是 `'a'`，构成 `'ac'`，弹出栈顶，`stack = []`  
   - `'a'`: 加入栈，`stack = ['a']`  
   - `'c'`: 栈顶是 `'a'`，构成 `'ac'`，弹出栈顶，`stack = []`  
   - `'b'`: 跳过，`stack = []`  
   - `'a'`: 加入栈，`stack = ['a']`  
   - `'b'`: 跳过，`stack = ['a']`  
3. 最终栈：`stack = ['a']`  
**输出**: `"a"`

#### 示例 3:  
**输入**: `"aabbcc"`  
**过程**:  
1. 初始化栈：`stack = []`  
2. 遍历字符：  
   - `'a'`: 加入栈，`stack = ['a']`  
   - `'a'`: 加入栈，`stack = ['a', 'a']`  
   - `'b'`: 跳过，`stack = ['a', 'a']`  
   - `'b'`: 跳过，`stack = ['a', 'a']`  
   - `'c'`: 栈顶是 `'a'`，构成 `'ac'`，弹出栈顶，`stack = ['a']`  
   - `'c'`: 栈顶是 `'a'`，构成 `'ac'`，弹出栈顶，`stack = []`  
3. 最终栈：`stack = []`  
**输出**: `""`

---

### **时间和空间复杂度分析**

1. **时间复杂度**:  
   - 遍历输入字符串一次，每个字符的操作是常数时间，因此时间复杂度为 **O(n)**，其中 `n` 是字符串长度。

2. **空间复杂度**:  
   - 栈的空间取决于最终保留下来的字符数（最坏情况下栈会存储所有字符）。因此，空间复杂度为 **O(n)**。

---

### **总结**

- 使用栈是一种适合处理相邻字符关系的方案，例如移除 `'ac'`。  
- 通过判断条件，移除了 `'b'` 和 `'ac'`，其余字符直接保留，实现了高效的字符串处理。

