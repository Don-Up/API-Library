## [162. find the single integer | BFE.dev - prepare for Front-End job interviews.](https://bigfrontend.dev/problem/find-the-single-integer)

这道题要求实现一个函数 `findSingle`，用来从一个整数数组中找出唯一只出现一次的数字，其他数字都恰好出现两次。输入是一个整数数组 `arr`，输出是那个只出现一次的数字。

### **讲解内容**

#### 1. **函数 `findSingle` 的目的**

- 该函数的目标是从一个整数数组 `arr` 中找出唯一只出现一次的数字。
- 数组中的其他数字恰好出现 **两次**。
- 假设数组中总是满足这个条件，且数组中只存在一个这样的数字。

---

#### 2. **使用按位异或的思想**

- 核心思想是利用 **异或操作（^）** 的性质来解决问题：
  1. **交换律**: `a ^ b = b ^ a`  
     （异或操作顺序无关）
  2. **结合律**: `(a ^ b) ^ c = a ^ (b ^ c)`  
     （异或操作可以分组）
  3. **自反性**: `a ^ a = 0`  
     （任何数字与自身异或结果为 `0`）
  4. **零元性**: `a ^ 0 = a`  
     （任何数字与 `0` 异或结果为自身）

- 利用这些性质，当数组中的所有数字进行异或操作时：
  1. 出现两次的数字会相互抵消，结果为 `0`。
  2. 唯一只出现一次的数字不会被抵消，最终结果就是这个数字。

---

#### 3. **核心逻辑**

- 使用数组的 `reduce` 方法，将数组中的所有数字依次进行异或操作。
- 初始值为 `0`。
- 遍历数组时：
  - 对当前累积结果 `acc` 和当前数字 `cur` 执行异或操作。
  - 最终返回累积结果，即唯一只出现一次的数字。

---

### **带有注释的完整代码**

```javascript
/**
 * @param {number[]} arr - 输入的整数数组
 * @returns {number} - 唯一只出现一次的数字
 */
function findSingle(arr) {
  return arr.reduce((acc, cur) => acc ^= cur, 0);
}
```

---

### **逐步执行示例**

#### 示例 1:

**输入**: `[2, 3, 2]`  
**过程**:

1. 初始累积值：`acc = 0`  
2. 遍历数组：
   - 第 1 步：`acc = 0 ^ 2 = 2`
   - 第 2 步：`acc = 2 ^ 3 = 1`
   - 第 3 步：`acc = 1 ^ 2 = 3`
3. 最终结果：`acc = 3`

**输出**: `3`

---

#### 示例 2:

**输入**: `[4, 1, 2, 1, 2]`  
**过程**:

1. 初始累积值：`acc = 0`  
2. 遍历数组：
   - 第 1 步：`acc = 0 ^ 4 = 4`
   - 第 2 步：`acc = 4 ^ 1 = 5`
   - 第 3 步：`acc = 5 ^ 2 = 7`
   - 第 4 步：`acc = 7 ^ 1 = 6`
   - 第 5 步：`acc = 6 ^ 2 = 4`
3. 最终结果：`acc = 4`

**输出**: `4`

---

#### 示例 3:  

**输入**: `[1, 0, 1]`  
**过程**:

1. 初始累积值：`acc = 0`  
2. 遍历数组：
   - 第 1 步：`acc = 0 ^ 1 = 1`
   - 第 2 步：`acc = 1 ^ 0 = 1`
   - 第 3 步：`acc = 1 ^ 1 = 0`
3. 最终结果：`acc = 0`

**输出**: `0`

---

### **时间和空间复杂度分析**

1. **时间复杂度**:
   - 遍历数组并对每个元素进行常数时间的异或操作。
   - 时间复杂度为 **O(n)**，其中 `n` 是数组的长度。

2. **空间复杂度**:
   - 只使用了常数额外空间（累积变量 `acc`）。
   - 空间复杂度为 **O(1)**。

---

### **总结**

- **异或操作** 是解决此类问题的高效方法，能够在 **O(n)** 时间和 **O(1)** 空间复杂度内完成任务。
- 异或的性质确保了成对出现的数字被抵消，最终只剩下唯一的数。
- 代码简洁且无需额外数据结构，非常适合处理类似问题。

